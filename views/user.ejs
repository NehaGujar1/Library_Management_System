<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</head>
<p></p>



<form id="check_input" method="post" action="/user">
    <!-- <input type="checkbox" id="check_out" name="check_out" value="check_out">  -->
    <input type="text" id="ur_book_name" name="ur_book_name" value='<%= data %>' style="display:none ;">
    <div>
        <h1>Hi, <%= data %>! </h1>
<br>
        <p id="2">Choices to check-out</p>
    <table id="table3">
        <thead>
        <th>Name of book</th>
        <!-- <th>Check-box</th> -->
        </thead>
    <tbody id="tablet"></tbody>
    </table>
    <pre id="space">  </pre>
    <p id="1">Choices to check-in</p>
<table id="table2">
  
    <thead>
    <th>Name of book</th>
    <!-- <th>Check-box</th> -->
    </thead>
<tbody id="table"></tbody>
</table>
<pre id="space2">  </pre>
<p id="3">Pending requests</p>
<table id="table7">
  
    <thead>
    <th>Name of book</th>
    <!-- <th>Check-box</th> -->
    </thead>
<tbody id="table6"></tbody>
</table>
<pre id="space3">  </pre>
<button type="submit" id="submit_check_in_out">Submit</button>
    </div>
</form>

<style>
    button{
        width: auto;
        height: auto;
    }
    body{
        background-color: black;
        color: white;
    }
   div{
        /* display: flex;
        flex-direction: column;
        justify-items: center;
        width: 20vw;
        margin-left: 40vw;
        margin-top: 10vh; */
        display: grid;
        margin-left: auto;
        margin-right: auto;
        justify-items: center;
        align-content: center;
        margin-top: auto;
        margin-bottom: auto;
        -ms-grid-row-align: center;
        -ms-grid-column-align: stretch;
        height: 100%;
    }
    h1{
        margin-top: auto;
        text-align: center;
    }
    table{
        border: 1px solid;
    }
    #space{
        /* display: none; */
    }
</style>
<script>
    ur_book = <%- JSON.stringify(data) %>;
     const ur_book_1 = document.getElementById("ur_book_name");
     ur_book_1.innerHTML = ' <style> display:none; </style> '
    // console.log(data2);
    dat = <%- JSON.stringify(data3) %>;
    const tbodyel = document.getElementById("table");
    const table = document.getElementById("table2");
    const h2 = document.getElementById("1");
if(dat[0]===undefined)  {
    table.innerHTML = '<style> display: none; </style>';
    h2.innerHTML = '<style>display: none;</style>';
    h2.innerHTML = '<p>Nothing to check-in</p>'
}
    else
    {
    for(let i=0; dat[i]!=undefined; i++){
        tbodyel.innerHTML += '<tr><td>'+dat[i].book_name+'</td><td><input type = "checkbox" name="check_in" value="'+dat[i].book_name+'"> </td></tr>';
    }
}
// ur_book2 = <%- JSON.stringify(data) %>;
//      const ur_book_2 = document.getElementById("ur_book_name");
//      ur_book_1.innerHTML = ' <style> display:none; </style> '
//     // console.log(data2);
//     dat = <%- JSON.stringify(data3) %>;
//     const tbodyel5 = document.getElementById("table");
//     const table3 = document.getElementById("table2");
//     const h3 = document.getElementById("2");
// if(dat[0]===undefined)  {
//     table.innerHTML = '<style> display: none; </style>';
//     h2.innerHTML = '<style> display: none; </style>';
//     h2.innerHTML = '<p>Nothing to check-in</p>'
// }
//     else
//     {
//     for(let i=0; dat[i]!=undefined; i++){
//         tbodyel.innerHTML += '<tr><td>'+dat[i].book_name+'</td><td><input type = "checkbox" name="check_in" value="'+dat[i].book_name+'"> </td></tr>';
//     }
// }
    dat2 = <%- JSON.stringify(data2) %>;
    const tbodyel2 = document.getElementById("tablet");
    const tables = document.getElementById("table3");
    const h = document.getElementById("2")
if(dat2[0]===undefined)  {
    tables.innerHTML = '<style> display: none; </style>';
    h.innerHTML = '<style>display: none;</style>';
    h.innerHTML = '<p>Nothing to check-out</p>'
}
    else
    {
    for(let i=0; dat2[i]!=undefined; i++){
        tbodyel2.innerHTML += '<tr><td>'+dat2[i].book_name+'</td><td><input type = "checkbox" name="check_out" value="'+dat2[i].book_name+'"> </td></tr>';
    }
}
console.log('hi');
     dat3 = <%- JSON.stringify(data4) %>;
    console.log('hello');
    const tbodyel3 = document.getElementById("table6");
    const tablel = document.getElementById("table7");
    const h4 = document.getElementById("3");
if(dat3[0]==undefined)  {
    tablel.innerHTML = '<style> display: none; </style>';
    h4.style = 'display: none;';
    h4.innerHTML = '<p>No pending requests</p>'
}
    else
    {
    for(let i=0; dat3[i]!=undefined; i++){
        tbodyel3.innerHTML += '<tr><td>'+dat3[i].book_name+'</td></tr>';
    }
}
</script>
